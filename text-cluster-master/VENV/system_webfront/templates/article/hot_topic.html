<!-- extends表明此页面继承自 base.html 文件 -->
{% extends "base.html" %}
{% load static %}

<!-- 写入 base.html 中定义的 title -->
{% block title %}
热点话题
{% endblock title %}

<!-- 写入 base.html 中定义的 content -->
{% block content %}

<!-- 文章详情 -->
<div class="content-inner" style="top:50px;position:absolute;right:0;">

    <!-- 首页开头    -->
    <section class="dashboard-header">
        <div class="container-fluid">
            <div class="row" style="margin:0 50px;">

                <div class="card-body">
                    <div class="container">
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类一</button>
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类二</button>
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类三</button>
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类四</button>
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类五</button>
                        <button class="btn btn-outline-secondary" style="margin:0 5px;">分类六</button>
                    </div>

                </div>
                <div class="card-body">

                    <!-- 定义放置文章标题的div容器 -->
                    <div class="container">
                        <div class="card-body">
                            <div style="display:flex;margin:20px 0;flex-direction:row-reverse;justify-content:space-between;align-items:center;">
                                <form>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="search" placeholder="搜索点什么..."
                                               required>
                                        <div class="input-group-btn">
                                            <button class="btn btn-secondary"><i class="ion ion-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                                <h1>新闻聚焦</h1>
                            </div>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>标题</th>
                                        <th>摘要</th>
                                        <th>作者</th>
                                        <th>时间</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for article in articles %}
                                    <tr>
                                        <th scope="row">{{article.title}}</th>
                                        <td>{{ article.body|slice:'120' }}...</td>
                                        <td>{{ article.newssource}}</td>
                                        <td>{{article.time}}</td>
                                    </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- 页码导航 -->
                    <div class="pagination row" style="margin:0 auto;">
                        <div class="m-auto">
        <span class="step-links">
            <!-- 如果不是第一页，则显示上翻按钮 -->
            {% if articles.has_previous %}
                <a href="?page=1&order={{order}}&search={{search}}" class="btn btn-outline-dark">
                    &laquo; 1
                </a>
                <span>...</span>
                <a href="?page={{ articles.previous_page_number }}&order={{order}}&search={{search}}"
                   class="btn btn-outline-dark"
                >
                    {{ articles.previous_page_number }}
                </a>
            {% endif %}

            <!-- 当前页面 -->
            <span class="current btn btn-outline-primary btn-lg">
                {{ articles.number }}
            </span>

            <!-- 如果不是最末页，则显示下翻按钮 -->
            {% if articles.has_next %}
                <a href="?page={{ articles.next_page_number }}&order={{ order }}&search={{ search }}"
                   class="btn btn-outline-dark"
                >
                    {{ articles.next_page_number }}
                </a>
                <span>...</span>
                <a href="?page={{ articles.paginator.num_pages }}&order={{ order }}&search={{ search }}"
                   class="btn btn-outline-dark"
                >
                    {{ articles.paginator.num_pages }} &raquo;
                </a>
            {% endif %}
        </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>

{% endblock content %}